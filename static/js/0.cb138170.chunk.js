(this["webpackJsonplrc-staking-dapp"]=this["webpackJsonplrc-staking-dapp"]||[]).push([[0],{1330:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(198),c=r(773),s=r(336),f=r(153),l=r(154),p=(r(832),r(971),r(870)),h=function(t,e){return t+e},v=["sync","latest"],d=function(t){"use strict";f(r,t);var e=l(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,r),(t=e.call(this))._blockResetDuration=n.blockResetDuration||2e4,t._blockResetTimeout,t._currentBlock=null,t._isRunning=!1,t._onNewListener=t._onNewListener.bind(a(t)),t._onRemoveListener=t._onRemoveListener.bind(a(t)),t._resetCurrentBlock=t._resetCurrentBlock.bind(a(t)),t._setupInternalEvents(),t}return i(r,[{key:"isRunning",value:function(){return this._isRunning}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"getLatestBlock",value:function(){var t=o(n.mark((function t(){var e,r=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._currentBlock){t.next=2;break}return t.abrupt("return",this._currentBlock);case 2:return t.next=4,new Promise((function(t){return r.once("latest",t)}));case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(t){t?c(s(r.prototype),"removeAllListeners",this).call(this,t):c(s(r.prototype),"removeAllListeners",this).call(this),this._setupInternalEvents(),this._onRemoveListener()}},{key:"_start",value:function(){}},{key:"_end",value:function(){}},{key:"_setupInternalEvents",value:function(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}},{key:"_onNewListener",value:function(t,e){v.includes(t)&&this._maybeStart()}},{key:"_onRemoveListener",value:function(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}},{key:"_maybeStart",value:function(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}},{key:"_maybeEnd",value:function(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}},{key:"_getBlockTrackerEventCount",value:function(){var t=this;return v.map((function(e){return t.listenerCount(e)})).reduce(h)}},{key:"_newPotentialLatest",value:function(t){var e=this._currentBlock;e&&y(t)<=y(e)||this._setCurrentBlock(t)}},{key:"_setCurrentBlock",value:function(t){var e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}},{key:"_setupBlockResetTimeout",value:function(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}},{key:"_cancelBlockResetTimeout",value:function(){clearTimeout(this._blockResetTimeout)}},{key:"_resetCurrentBlock",value:function(){this._currentBlock=null}}]),r}(p);function y(t){return Number.parseInt(t,16)}t.exports=d},1338:function(t,e,r){"use strict";(function(t,n){var o=r(153),u=r(154),i=r(91),a=r(92),c=function(){function e(t){i(this,e),this.tasks=[],this.count=t}return a(e,[{key:"sched",value:function(){if(this.count>0&&this.tasks.length>0){this.count--;var t=this.tasks.shift();if(void 0===t)throw"Unexpected undefined value in tasks list";t()}}},{key:"acquire",value:function(){var e=this;return new Promise((function(r,o){e.tasks.push((function(){var t=!1;r((function(){t||(t=!0,e.count++,e.sched())}))})),t&&t.nextTick?t.nextTick(e.sched.bind(e)):n(e.sched.bind(e))}))}},{key:"use",value:function(t){return this.acquire().then((function(e){return t().then((function(t){return e(),t})).catch((function(t){throw e(),t}))}))}}]),e}();e.Semaphore=c;var s=function(t){o(r,t);var e=u(r);function r(){return i(this,r),e.call(this,1)}return r}(c);e.Mutex=s}).call(this,r(30),r(157).setImmediate)},1339:function(t,e){t.exports=function(t){return function(e,r,n,o){var u=t[e.method];return void 0===u?n():"function"===typeof u?u(e,r,n,o):(r.result=u,o())}}},1340:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(153),c=r(154),s=r(832),f=r(1341),l=r(1342),p=r(804),h=(p.bnToHex,p.hexToInt),v=p.incrementHexInt,d=p.minBlockRef,y=p.blockRefIsNumber,k=function(t){"use strict";a(r,t);var e=c(r);function r(t){var n,o=t.provider,i=t.params;return u(this,r),(n=e.call(this)).type="log",n.ethQuery=new s(o),n.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},i),n.params.address&&(Array.isArray(n.params.address)||(n.params.address=[n.params.address]),n.params.address=n.params.address.map((function(t){return t.toLowerCase()}))),n}return i(r,[{key:"initialize",value:function(){var t=o(n.mark((function t(e){var r,o,u,i,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentBlock,o=this.params.fromBlock,["latest","pending"].includes(o)&&(o=r),"earliest"===o&&(o="0x0"),this.params.fromBlock=o,u=d(this.params.toBlock,r),i=Object.assign({},this.params,{toBlock:u}),t.next=9,this._fetchLogs(i);case 9:a=t.sent,this.addInitialResults(a);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,u,i,a,c,s,f=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=e.newBlock,u=o,i=r?v(r):o,a=Object.assign({},this.params,{fromBlock:i,toBlock:u}),t.next=6,this._fetchLogs(a);case 6:c=t.sent,s=c.filter((function(t){return f.matchLog(t)})),this.addResults(s);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_fetchLogs",value:function(){var t=o(n.mark((function t(e){var r,o=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f((function(t){return o.ethQuery.getLogs(e,t)}))();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"matchLog",value:function(t){if(h(this.params.fromBlock)>=h(t.blockNumber))return!1;if(y(this.params.toBlock)&&h(this.params.toBlock)<=h(t.blockNumber))return!1;var e=t.address&&t.address.toLowerCase();return!(this.params.address&&e&&!this.params.address.includes(e))&&this.params.topics.every((function(e,r){var n=t.topics[r];if(!n)return!1;n=n.toLowerCase();var o=Array.isArray(e)?e:[e];return!!o.includes(null)||(o=o.map((function(t){return t.toLowerCase()}))).includes(n)}))}}]),r}(l);t.exports=k},1341:function(t,e,r){"use strict";var n=function(t,e){return function(){for(var r=this,n=e.promiseModule,o=new Array(arguments.length),u=0;u<arguments.length;u++)o[u]=arguments[u];return new n((function(n,u){e.errorFirst?o.push((function(t,r){if(e.multiArgs){for(var o=new Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];t?(o.unshift(t),u(o)):n(o)}else t?u(t):n(r)})):o.push((function(t){if(e.multiArgs){for(var r=new Array(arguments.length-1),o=0;o<arguments.length;o++)r[o]=arguments[o];n(r)}else n(t)})),t.apply(r,o)}))}};t.exports=function(t,e){e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);var r,o=function(t){var r=function(e){return"string"===typeof e?t===e:e.test(t)};return e.include?e.include.some(r):!e.exclude.some(r)};for(var u in r="function"===typeof t?function(){return e.excludeMain?t.apply(this,arguments):n(t,e).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t)),t){var i=t[u];r[u]="function"===typeof i&&o(u)?n(i,e):i}return r}},1342:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(773),c=r(336),s=r(153),f=r(154),l=function(t){"use strict";s(r,t);var e=f(r);function r(){var t;return u(this,r),(t=e.call(this)).allResults=[],t}return i(r,[{key:"update",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"addResults",value:function(t){this.allResults=this.allResults.concat(t),a(c(r.prototype),"addResults",this).call(this,t)}},{key:"addInitialResults",value:function(t){this.allResults=this.allResults.concat(t),a(c(r.prototype),"addInitialResults",this).call(this,t)}},{key:"getAllResults",value:function(){return this.allResults}}]),r}(r(875));t.exports=l},1343:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(153),c=r(154),s=r(875),f=r(876),l=r(804).incrementHexInt,p=function(t){"use strict";a(r,t);var e=c(r);function r(t){var n,o=t.provider;t.params;return u(this,r),(n=e.call(this)).type="block",n.provider=o,n}return i(r,[{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,u,i,a,c;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=e.newBlock,u=o,i=l(r),t.next=5,f({provider:this.provider,fromBlock:i,toBlock:u});case 5:a=t.sent,c=a.map((function(t){return t.hash})),this.addResults(c);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),r}(s);t.exports=p},1344:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(153),c=r(154),s=r(1345),f=r(875),l=r(876),p=r(804).incrementHexInt,h=function(t){"use strict";a(r,t);var e=c(r);function r(t){var n,o=t.provider;return u(this,r),(n=e.call(this)).type="tx",n.provider=o,n}return i(r,[{key:"update",value:function(){var t=o(n.mark((function t(e){var r,o,u,i,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.oldBlock,o=r,u=p(r),t.next=5,l({provider:this.provider,fromBlock:u,toBlock:o});case 5:i=t.sent,a=s(i,(function(t){return t.transactions})),this.addResults(a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),r}(f);t.exports=h},1345:function(t,e,r){(function(t,r){var n="[object Arguments]",o="[object Map]",u="[object Object]",i="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[n]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[i]=v["[object String]"]=v["[object WeakMap]"]=!1;var d="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,k=d||y||Function("return this")(),m=e&&!e.nodeType&&e,_=m&&"object"==typeof r&&r&&!r.nodeType&&r,b=_&&_.exports===m&&d.process,g=function(){try{return b&&b.binding("util")}catch(t){}}(),w=g&&g.isTypedArray;function x(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function B(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function j(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function R(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function A(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function L(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var T,F,O=Array.prototype,E=Function.prototype,C=Object.prototype,I=k["__core-js_shared__"],S=function(){var t=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),P=E.toString,H=C.hasOwnProperty,M=C.toString,N=RegExp("^"+P.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=k.Symbol,$=k.Uint8Array,U=C.propertyIsEnumerable,q=O.splice,z=D?D.isConcatSpreadable:void 0,V=(T=Object.keys,F=Object,function(t){return T(F(t))}),W=At(k,"DataView"),J=At(k,"Map"),Q=At(k,"Promise"),G=At(k,"Set"),K=At(k,"WeakMap"),X=At(Object,"create"),Y=Pt(W),Z=Pt(J),tt=Pt(Q),et=Pt(G),rt=Pt(K),nt=D?D.prototype:void 0,ot=nt?nt.valueOf:void 0,ut=nt?nt.toString:void 0;function it(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function st(t){var e=-1,r=t?t.length:0;for(this.__data__=new ct;++e<r;)this.add(t[e])}function ft(t){this.__data__=new at(t)}function lt(t,e){var r=Dt(t)||Nt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var u in t)!e&&!H.call(t,u)||o&&("length"==u||Ft(u,n))||r.push(u);return r}function pt(t,e){for(var r=t.length;r--;)if(Mt(t[r][0],e))return r;return-1}it.prototype.clear=function(){this.__data__=X?X(null):{}},it.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},it.prototype.get=function(t){var e=this.__data__;if(X){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return H.call(e,t)?e[t]:void 0},it.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:H.call(e,t)},it.prototype.set=function(t,e){return this.__data__[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(t){var e=this.__data__,r=pt(e,t);return!(r<0)&&(r==e.length-1?e.pop():q.call(e,r,1),!0)},at.prototype.get=function(t){var e=this.__data__,r=pt(e,t);return r<0?void 0:e[r][1]},at.prototype.has=function(t){return pt(this.__data__,t)>-1},at.prototype.set=function(t,e){var r=this.__data__,n=pt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},ct.prototype.clear=function(){this.__data__={hash:new it,map:new(J||at),string:new it}},ct.prototype.delete=function(t){return Rt(this,t).delete(t)},ct.prototype.get=function(t){return Rt(this,t).get(t)},ct.prototype.has=function(t){return Rt(this,t).has(t)},ct.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},st.prototype.add=st.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},st.prototype.has=function(t){return this.__data__.has(t)},ft.prototype.clear=function(){this.__data__=new at},ft.prototype.delete=function(t){return this.__data__.delete(t)},ft.prototype.get=function(t){return this.__data__.get(t)},ft.prototype.has=function(t){return this.__data__.has(t)},ft.prototype.set=function(t,e){var r=this.__data__;if(r instanceof at){var n=r.__data__;if(!J||n.length<199)return n.push([t,e]),this;r=this.__data__=new ct(n)}return r.set(t,e),this};var ht,vt,dt=(ht=function(t,e){return t&&yt(t,e,Qt)},function(t,e){if(null==t)return t;if(!$t(t))return ht(t,e);for(var r=t.length,n=vt?r:-1,o=Object(t);(vt?n--:++n<r)&&!1!==e(o[n],n,o););return t});var yt=function(t){return function(e,r,n){for(var o=-1,u=Object(e),i=n(e),a=i.length;a--;){var c=i[t?a:++o];if(!1===r(u[c],c,u))break}return e}}();function kt(t,e){for(var r=0,n=(e=Ot(e,t)?[e]:Bt(e)).length;null!=t&&r<n;)t=t[St(e[r++])];return r&&r==n?t:void 0}function mt(t,e){return null!=t&&e in Object(t)}function _t(t,e,r,a,c){return t===e||(null==t||null==e||!zt(t)&&!Vt(e)?t!==t&&e!==e:function(t,e,r,a,c,s){var f=Dt(t),l=Dt(e),p="[object Array]",h="[object Array]";f||(p=(p=Lt(t))==n?u:p);l||(h=(h=Lt(e))==n?u:h);var v=p==u&&!R(t),d=h==u&&!R(e),y=p==h;if(y&&!v)return s||(s=new ft),f||Jt(t)?jt(t,e,r,a,c,s):function(t,e,r,n,u,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!n(new $(t),new $(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case o:var s=A;case i:var f=2&a;if(s||(s=L),t.size!=e.size&&!f)return!1;var l=c.get(t);if(l)return l==e;a|=1,c.set(t,e);var p=jt(s(t),s(e),n,u,a,c);return c.delete(t),p;case"[object Symbol]":if(ot)return ot.call(t)==ot.call(e)}return!1}(t,e,p,r,a,c,s);if(!(2&c)){var k=v&&H.call(t,"__wrapped__"),m=d&&H.call(e,"__wrapped__");if(k||m){var _=k?t.value():t,b=m?e.value():e;return s||(s=new ft),r(_,b,a,c,s)}}if(!y)return!1;return s||(s=new ft),function(t,e,r,n,o,u){var i=2&o,a=Qt(t),c=a.length,s=Qt(e).length;if(c!=s&&!i)return!1;var f=c;for(;f--;){var l=a[f];if(!(i?l in e:H.call(e,l)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var h=!0;u.set(t,e),u.set(e,t);var v=i;for(;++f<c;){l=a[f];var d=t[l],y=e[l];if(n)var k=i?n(y,d,l,e,t,u):n(d,y,l,t,e,u);if(!(void 0===k?d===y||r(d,y,n,o,u):k)){h=!1;break}v||(v="constructor"==l)}if(h&&!v){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(h=!1)}return u.delete(t),u.delete(e),h}(t,e,r,a,c,s)}(t,e,_t,r,a,c))}function bt(t){return!(!zt(t)||function(t){return!!S&&S in t}(t))&&(Ut(t)||R(t)?N:p).test(Pt(t))}function gt(t){return"function"==typeof t?t:null==t?Gt:"object"==typeof t?Dt(t)?function(t,e){if(Ot(t)&&Et(e))return Ct(St(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:kt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Ot(e,t)?[e]:Bt(e);var n,o=-1,u=e.length;for(;++o<u;){var i=St(e[o]);if(!(n=null!=t&&r(t,i)))break;t=t[i]}if(n)return n;return!!(u=t?t.length:0)&&qt(u)&&Ft(i,u)&&(Dt(t)||Nt(t))}(t,e,mt)}(r,t):_t(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Qt(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Et(o)]}return e}(t);if(1==e.length&&e[0][2])return Ct(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,u=o,i=!n;if(null==t)return!u;for(t=Object(t);o--;){var a=r[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var c=(a=r[o])[0],s=t[c],f=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var l=new ft;if(n)var p=n(s,f,c,t,e,l);if(!(void 0===p?_t(f,s,n,3,l):p))return!1}}return!0}(r,t,e)}}(t):function(t){return Ot(t)?(e=St(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return kt(e,t)}}(t);var e}(t)}function wt(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||C;return t===r}(t))return V(t);var e=[];for(var r in Object(t))H.call(t,r)&&"constructor"!=r&&e.push(r);return e}function xt(t,e){var r=-1,n=$t(t)?Array(t.length):[];return dt(t,(function(t,o,u){n[++r]=e(t,o,u)})),n}function Bt(t){return Dt(t)?t:It(t)}function jt(t,e,r,n,o,u){var i=2&o,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=u.get(t);if(s&&u.get(e))return s==e;var f=-1,l=!0,p=1&o?new st:void 0;for(u.set(t,e),u.set(e,t);++f<a;){var h=t[f],v=e[f];if(n)var d=i?n(v,h,f,e,t,u):n(h,v,f,t,e,u);if(void 0!==d){if(d)continue;l=!1;break}if(p){if(!j(e,(function(t,e){if(!p.has(e)&&(h===t||r(h,t,n,o,u)))return p.add(e)}))){l=!1;break}}else if(h!==v&&!r(h,v,n,o,u)){l=!1;break}}return u.delete(t),u.delete(e),l}function Rt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function At(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return bt(r)?r:void 0}var Lt=function(t){return M.call(t)};function Tt(t){return Dt(t)||Nt(t)||!!(z&&t&&t[z])}function Ft(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}function Ot(t,e){if(Dt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Wt(t))||(c.test(t)||!a.test(t)||null!=e&&t in Object(e))}function Et(t){return t===t&&!zt(t)}function Ct(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(W&&"[object DataView]"!=Lt(new W(new ArrayBuffer(1)))||J&&Lt(new J)!=o||Q&&"[object Promise]"!=Lt(Q.resolve())||G&&Lt(new G)!=i||K&&"[object WeakMap]"!=Lt(new K))&&(Lt=function(t){var e=M.call(t),r=e==u?t.constructor:void 0,n=r?Pt(r):void 0;if(n)switch(n){case Y:return"[object DataView]";case Z:return o;case tt:return"[object Promise]";case et:return i;case rt:return"[object WeakMap]"}return e});var It=Ht((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Wt(t))return ut?ut.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return s.test(t)&&r.push(""),t.replace(f,(function(t,e,n,o){r.push(n?o.replace(l,"$1"):e||t)})),r}));function St(t){if("string"==typeof t||Wt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Pt(t){if(null!=t){try{return P.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ht(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],u=r.cache;if(u.has(o))return u.get(o);var i=t.apply(this,n);return r.cache=u.set(o,i),i};return r.cache=new(Ht.Cache||ct),r}function Mt(t,e){return t===e||t!==t&&e!==e}function Nt(t){return function(t){return Vt(t)&&$t(t)}(t)&&H.call(t,"callee")&&(!U.call(t,"callee")||M.call(t)==n)}Ht.Cache=ct;var Dt=Array.isArray;function $t(t){return null!=t&&qt(t.length)&&!Ut(t)}function Ut(t){var e=zt(t)?M.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Vt(t){return!!t&&"object"==typeof t}function Wt(t){return"symbol"==typeof t||Vt(t)&&"[object Symbol]"==M.call(t)}var Jt=w?function(t){return function(e){return t(e)}}(w):function(t){return Vt(t)&&qt(t.length)&&!!v[M.call(t)]};function Qt(t){return $t(t)?lt(t):wt(t)}function Gt(t){return t}r.exports=function(t,e){return function t(e,r,n,o,u){var i=-1,a=e.length;for(n||(n=Tt),u||(u=[]);++i<a;){var c=e[i];r>0&&n(c)?r>1?t(c,r-1,n,o,u):B(u,c):o||(u[u.length]=c)}return u}(function(t,e){return(Dt(t)?x:xt)(t,gt(e))}(t,e),1)}}).call(this,r(28),r(77)(t))},773:function(t,e,r){var n=r(788);function o(e,r,u){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,r){var o=n(t,e);if(o){var u=Object.getOwnPropertyDescriptor(o,e);return u.get?u.get.call(r):u.value}},o(e,r,u||e)}t.exports=o},788:function(t,e,r){var n=r(336);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},804:function(t,e){function r(t){return t.sort((function(t,e){return"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:n(t)-n(e)}))}function n(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function o(t){if(void 0===t||null===t)return t;var e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function u(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r(e);return o[0]},maxBlockRef:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=r(e);return o[o.length-1]},sortBlockRefs:r,bnToHex:function(t){return"0x"+t.toString(16)},blockRefIsNumber:function(t){return t&&!["earliest","latest","pending"].includes(t)},hexToInt:n,incrementHexInt:function(t){return void 0===t||null===t?t:o(n(t)+1)},intToHex:o,unsafeRandomBytes:function(t){for(var e="0x",r=0;r<t;r++)e+=u(),e+=u();return e}}},870:function(t,e,r){var n=r(196),o=r(76),u="object"===typeof Reflect?Reflect:null,i=u&&"function"===typeof u.apply?u.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(){o.call(this)}function c(t,e,r){try{i(t,e,r)}catch(n){setTimeout((function(){throw n}))}}function s(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}t.exports=a,n.inherits(a,o),a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var i=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw i.context=u,i}var a=o[t];if(void 0===a)return!1;if("function"===typeof a)c(a,this,e);else{var f=a.length,l=s(a,f);for(r=0;r<f;++r)c(l[r],this,e)}return!0}},873:function(t,e,r){var n=r(12),o=r(155);t.exports=function(t){return function(e,r,u,i){var a,c,s,f=new Promise((function(t){a=t}));t(e,r,function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=!0,u((function(t){c=t,a()})),t.next=4,f;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()).then(o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=6;break}return t.next=3,f;case 3:c(null),t.next=7;break;case 6:i(null);case 7:case"end":return t.stop()}}),t)})))).catch((function(t){c?c(t):i(t)}))}}},874:function(t,e,r){var n=r(12),o=r(155),u=r(1338).Mutex,i=r(873),a=r(973),c=r(1340),s=r(1343),f=r(1344),l=r(804),p=l.intToHex,h=l.hexToInt;function v(t){return d(o(n.mark((function e(){var r,o,u=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(void 0,u);case 2:return r=e.sent,o=p(r.id),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))))}function d(t){return i(function(){var e=o(n.mark((function e(r,o){var u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(null,r.params);case 2:u=e.sent,o.result=u;case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}function y(t,e){var r=[];for(var n in t)r.push(t[n]);return r}t.exports=function(t){var e=t.blockTracker,r=t.provider,i=0,l={},k=new u,m=function(t){var e=t.mutex;return function(t){return function(){var r=o(n.mark((function r(o,u,i,a){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.acquire();case 2:(0,r.sent)(),t(o,u,i,a);case 5:case"end":return r.stop()}}),r)})));return function(t,e,n,o){return r.apply(this,arguments)}}()}}({mutex:k}),_=a({eth_newFilter:m(v(g)),eth_newBlockFilter:m(v(x)),eth_newPendingTransactionFilter:m(v(j)),eth_uninstallFilter:m(d(O)),eth_getFilterChanges:m(d(A)),eth_getFilterLogs:m(d(T))}),b=function(){var t=o(n.mark((function t(e){var r,u,i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.oldBlock,u=e.newBlock,0!==l.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,k.acquire();case 5:return i=t.sent,t.prev=6,t.next=9,Promise.all(y(l).map(function(){var t=o(n.mark((function t(e){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.update({oldBlock:r,newBlock:u});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),console.error(t.t0);case 14:i();case 15:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}();return _.newLogFilter=g,_.newBlockFilter=x,_.newPendingTransactionFilter=j,_.uninstallFilter=O,_.getFilterChanges=A,_.getFilterLogs=T,_.destroy=function(){!function(){H.apply(this,arguments)}()},_;function g(t){return w.apply(this,arguments)}function w(){return(w=o(n.mark((function t(e){var o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new c({provider:r,params:e}),t.next=3,C(o);case 3:return t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return B.apply(this,arguments)}function B(){return(B=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new s({provider:r}),t.next=3,C(e);case 3:return t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return R.apply(this,arguments)}function R(){return(R=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new f({provider:r}),t.next=3,C(e);case 3:return t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return L.apply(this,arguments)}function L(){return(L=o(n.mark((function t(e){var r,o,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r]){t.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return u=o.getChangesAndClear(),t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return F.apply(this,arguments)}function F(){return(F=o(n.mark((function t(e){var r,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r]){t.next=4;break}throw new Error('No filter for index "'.concat(r,'"'));case 4:return"log"===o.type?results=o.getAllResults():results=[],t.abrupt("return",results);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return E.apply(this,arguments)}function E(){return(E=o(n.mark((function t(e){var r,o,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(e),o=l[r],!(u=Boolean(o))){t.next=6;break}return t.next=6,S(r);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return I.apply(this,arguments)}function I(){return(I=o(n.mark((function t(r){var o,u,a;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=y(l).length,t.next=3,e.getLatestBlock();case 3:return u=t.sent,t.next=6,r.initialize({currentBlock:u});case 6:return i++,l[i]=r,r.id=i,r.idHex=p(i),a=y(l).length,M({prevFilterCount:o,newFilterCount:a}),t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return P.apply(this,arguments)}function P(){return(P=o(n.mark((function t(e){var r,o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=y(l).length,delete l[e],o=y(l).length,M({prevFilterCount:r,newFilterCount:o});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(l).length,l={},M({prevFilterCount:e,newFilterCount:0});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){var r=t.prevFilterCount,n=t.newFilterCount;0===r&&n>0?e.on("sync",b):r>0&&0===n&&e.removeListener("sync",b)}}},875:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(153),c=r(154),s=function(t){"use strict";a(r,t);var e=c(r);function r(){var t;return u(this,r),(t=e.call(this)).updates=[],t}return i(r,[{key:"initialize",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("BaseFilter - no update method specified");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"addResults",value:function(t){var e=this;this.updates=this.updates.concat(t),t.forEach((function(t){return e.emit("update",t)}))}},{key:"addInitialResults",value:function(t){}},{key:"getChangesAndClear",value:function(){var t=this.updates;return this.updates=[],t}}]),r}(r(870));t.exports=s},876:function(t,e,r){var n=r(12),o=r(155);function u(){return(u=o(n.mark((function t(e){var r,o,u,s,f,l,p;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.provider,o=e.fromBlock,u=e.toBlock,o||(o=u),s=i(o),f=i(u),l=Array(f-s+1).fill().map((function(t,e){return s+e})).map(a),t.next=8,Promise.all(l.map((function(t){return c(r,"eth_getBlockByNumber",[t,!1])})));case 8:return p=t.sent,t.abrupt("return",p);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function a(t){return void 0===t||null===t?t:"0x"+t.toString(16)}function c(t,e,r){return new Promise((function(n,o){t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(function(t,e){if(t)return o(t);n(e.result)}))}))}t.exports=function(t){return u.apply(this,arguments)}},970:function(t,e,r){var n=r(12),o=r(155),u=r(91),i=r(92),a=r(153),c=r(154),s=r(971),f=r(1330),l=function(t){"use strict";a(r,t);var e=c(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u(this,r),!n.provider)throw new Error("PollingBlockTracker - no provider specified.");var o=n.pollingInterval||2e4,i=n.retryTimeout||o/10,a=void 0===n.keepEventLoopActive||n.keepEventLoopActive,c=n.setSkipCacheFlag||!1;return(t=e.call(this,Object.assign({blockResetDuration:o},n)))._provider=n.provider,t._pollingInterval=o,t._retryTimeout=i,t._keepEventLoopActive=a,t._setSkipCacheFlag=c,t}return i(r,[{key:"checkForLatestBlock",value:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._updateLatestBlock();case 2:return t.next=4,this.getLatestBlock();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_start",value:function(){var t=this;this._performSync().catch((function(e){return t.emit("error",e)}))}},{key:"_performSync",value:function(){var t=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isRunning){t.next=16;break}return t.prev=1,t.next=4,this._updateLatestBlock();case 4:return t.next=6,p(this._pollingInterval,!this._keepEventLoopActive);case 6:t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),e=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n".concat(t.t0.stack));try{this.emit("error",e)}catch(r){console.error(e)}return t.next=14,p(this._retryTimeout,!this._keepEventLoopActive);case 14:t.next=0;break;case 16:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"_updateLatestBlock",value:function(){var t=o(n.mark((function t(){var e;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchLatestBlock();case 2:e=t.sent,this._newPotentialLatest(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_fetchLatestBlock",value:function(){var t=o(n.mark((function t(){var e,r,o=this;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]},this._setSkipCacheFlag&&(e.skipCache=!0),t.next=4,s((function(t){return o._provider.sendAsync(e,t)}))();case 4:if(!(r=t.sent).error){t.next=7;break}throw new Error("PollingBlockTracker - encountered error fetching block:\n".concat(r.error));case 7:return t.abrupt("return",r.result);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(f);function p(t,e){return new Promise((function(r){var n=setTimeout(r,t);n.unref&&e&&n.unref()}))}t.exports=l},971:function(t,e,r){"use strict";var n=function(t,e){return function(){for(var r=this,n=e.promiseModule,o=new Array(arguments.length),u=0;u<arguments.length;u++)o[u]=arguments[u];return new n((function(n,u){e.errorFirst?o.push((function(t,r){if(e.multiArgs){for(var o=new Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];t?(o.unshift(t),u(o)):n(o)}else t?u(t):n(r)})):o.push((function(t){if(e.multiArgs){for(var r=new Array(arguments.length-1),o=0;o<arguments.length;o++)r[o]=arguments[o];n(r)}else n(t)})),t.apply(r,o)}))}};t.exports=function(t,e){e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);var r,o=function(t){var r=function(e){return"string"===typeof e?t===e:e.test(t)};return e.include?e.include.some(r):!e.exclude.some(r)};for(var u in r="function"===typeof t?function(){return e.excludeMain?t.apply(this,arguments):n(t,e).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t)),t){var i=t[u];r[u]="function"===typeof i&&o(u)?n(i,e):i}return r}},973:function(t,e,r){t.exports=r(1339)},974:function(t,e,r){(function(e){!function(r){"use strict";var n=function(t){setTimeout(t,0)};"undefined"!=typeof e&&e&&"function"==typeof e.nextTick&&(n=e.nextTick),t.exports=function(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(e.leave)},e.current+r.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(r);e.current+=r.n-t,r.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var r=e.queue[0];r.n+e.current>e.capacity||(e.queue.shift(),e.current+=r.n,n(r.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}}()}).call(this,r(30))},975:function(t,e,r){var n=r(12),o=r(155),u=r(870),i=r(973),a=r(873),c=r(874),s=r(804),f=s.unsafeRandomBytes,l=s.incrementHexInt,p=r(876);function h(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}t.exports=function(t){var e=t.blockTracker,r=t.provider,s={},v=c({blockTracker:e,provider:r}),d=!1,y=new u,k=i({eth_subscribe:a((function(t,e){return m.apply(this,arguments)})),eth_unsubscribe:a((function(t,e){return _.apply(this,arguments)}))});return k.destroy=function(){for(var t in y.removeAllListeners(),s)s[t].destroy(),delete s[t];d=!0},{events:y,middleware:k};function m(){return(m=o(n.mark((function t(u,i){var a,c,y,k,m,_,g;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g=function(t){var e=t.subId,r=t.filter;return r.on("update",(function(t){return b(e,t)})),{type:a,destroy:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.uninstallFilter(r.idHex);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},_=function(t){var u=t.subId,i={type:a,destroy:function(){var t=o(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.removeListener("sync",i.update);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),update:function(){var t=o(n.mark((function t(e){var o,i,a,c,s;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.oldBlock,i=e.newBlock,a=i,c=l(o),t.next=5,p({provider:r,fromBlock:c,toBlock:a});case 5:s=t.sent,s.map(h).forEach((function(t){b(u,t)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return e.on("sync",i.update),i},!d){t.next=4;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 4:a=u.params[0],c=f(16),t.t0=a,t.next="newHeads"===t.t0?9:"logs"===t.t0?11:17;break;case 9:return y=_({subId:c}),t.abrupt("break",18);case 11:return k=u.params[1],t.next=14,v.newLogFilter(k);case 14:return m=t.sent,y=g({subId:c,filter:m}),t.abrupt("break",18);case 17:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(a,'"'));case 18:return s[c]=y,i.result=c,t.abrupt("return");case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=o(n.mark((function t(e,r){var o,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=2;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 2:if(o=e.params[0],u=s[o]){t.next=7;break}return r.result=!1,t.abrupt("return");case 7:return delete s[o],t.next=10,u.destroy();case 10:r.result=!0;case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){y.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}}}}]);
//# sourceMappingURL=0.cb138170.chunk.js.map